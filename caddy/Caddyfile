{
    email admin@example.com
    log {
        output file /var/log/caddy/access.log
        format json
    }
}

# Portainer
portainer.example.com {
    reverse_proxy portainer:9000
    encode gzip
    header {
        X-Content-Type-Options "nosniff"
        X-Frame-Options "DENY"
    }
}

# n8n
n8n.example.com {
    reverse_proxy n8n:5678
    encode gzip
}

# Grafana
grafana.example.com {
    reverse_proxy grafana:3000
    encode gzip
    header {
        Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    }
}

