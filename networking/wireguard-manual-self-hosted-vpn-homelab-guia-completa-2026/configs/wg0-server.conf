[Interface]
# Clave privada del servidor (generar con: wg genkey)
PrivateKey = [CLAVE_PRIVADA_SERVIDOR]

# IP del servidor en la red VPN
Address = 10.0.0.1/24

# Puerto UDP donde escucha WireGuard
ListenPort = 51820

# Reglas de firewall (PostUp = después de levantar interfaz)
# Ajustar 'eth0' por tu interfaz de red principal
PostUp = iptables -A FORWARD -i wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE

# Reglas de firewall (PostDown = después de bajar interfaz)
PostDown = iptables -D FORWARD -i wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE

# Cliente 1: Laptop
[Peer]
PublicKey = [CLAVE_PUBLICA_CLIENTE_1]
AllowedIPs = 10.0.0.2/32

# Cliente 2: Móvil
[Peer]
PublicKey = [CLAVE_PUBLICA_CLIENTE_2]
AllowedIPs = 10.0.0.3/32

# Cliente 3: Desktop
[Peer]
PublicKey = [CLAVE_PUBLICA_CLIENTE_3]
AllowedIPs = 10.0.0.4/32

