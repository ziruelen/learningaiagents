# Unbound configuration for Pi-hole
# DNS recursivo para máxima privacidad

server:
    # Escuchar en todas las interfaces
    interface: 0.0.0.0
    port: 5335
    
    # Permitir acceso desde la red local
    access-control: 172.20.0.0/24 allow
    access-control: 127.0.0.1/32 allow
    
    # Optimización de rendimiento
    num-threads: 2
    msg-cache-size: 50m
    rrset-cache-size: 100m
    cache-max-ttl: 86400
    cache-min-ttl: 300
    
    # Seguridad
    hide-identity: yes
    hide-version: yes
    harden-glue: yes
    harden-dnssec-stripped: yes
    use-caps-for-id: yes
    
    # Privacidad - no reenviar a otros servidores
    do-not-query-localhost: no
    
    # Root hints para resolver directamente
    root-hints: /opt/unbound/etc/unbound/root.hints
    
    # DNSSEC
    auto-trust-anchor-file: /opt/unbound/etc/unbound/root.key
    
    # Logging mínimo
    verbosity: 0
    logfile: ""

